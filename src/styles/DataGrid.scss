// Variables
$color-bg: #ffffff;
$color-bg-header: #f8f9fa;
$color-bg-panel: #f8f9fa;
$color-bg-row-hover: #f8f9fa;
$color-bg-row-selected: #e6f3ff;
$color-bg-button-hover: #e2e8f0;
$color-bg-status-active: #c6f6d5;
$color-bg-status-inactive: #fed7d7;

$color-text: #2d3748;
$color-text-panel: #4a5568;
$color-text-status-active: #22543d;
$color-text-status-inactive: #742a2a;

$color-border: #e1e8ed;
$color-border-row: #f1f3f5;

$font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;

$font-size-base: 14px;
$font-size-mobile: 13px;
$font-size-status: 12px;
$font-size-panel: 13px;

$font-weight-header: 600;
$font-weight-status: 500;

$spacing-cell-padding: 0 16px;
$spacing-status-padding: 2px 10px;
$spacing-panel-padding: 12px 16px;

$border-radius: 8px;
$border-radius-status: 12px;
$border-width-header: 2px;
$border-width-row: 1px;

$box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
$transition-row: background-color 0.15s ease;

.data-grid-container {
  background: $color-bg;
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  overflow: hidden;
  width: 100%;
  height: 100%;
  min-height: 0;
  position: relative;
  display: flex;
  flex-direction: column;
}

.custom-grid {
  height: calc(100vh - 220px);
  min-height: 550px;
  width: 100%;
  font-family: $font-family;
  font-size: $font-size-base;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  .ag-header {
    background: $color-bg-header;
    border-bottom: $border-width-header solid $color-border;
    font-weight: $font-weight-header;
    color: $color-text;
  }

  .ag-header-cell {
    padding: $spacing-cell-padding;
  }

  .ag-row {
    border-bottom: $border-width-row solid $color-border-row;
    transition: $transition-row;

    &:hover {
      background-color: $color-bg-row-hover;
    }
  }

  .ag-row-selected {
    background-color: $color-bg-row-selected;
  }

  .ag-cell {
    padding: $spacing-cell-padding;
    display: flex;
    align-items: center;
    color: $color-text;
  }

  .ag-paging-panel {
    padding: $spacing-panel-padding;
    background: $color-bg-panel;
    border-top: $border-width-row solid $color-border;
    color: $color-text-panel;
    font-size: $font-size-panel;
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    min-height: 56px;
    flex-wrap: wrap;
    z-index: 1;
    visibility: visible !important;
    opacity: 1 !important;
  }

  .ag-paging-button {
    color: $color-text-panel;
    background: transparent;
    border: 1px solid $color-border;
    border-radius: 4px;
    padding: 6px 12px;
    cursor: pointer;
    font-size: $font-size-panel;
    transition: all 0.2s ease;
    min-width: 80px;

    &:hover:not(:disabled) {
      background-color: $color-bg-button-hover;
      border-color: $color-text-panel;
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    &.ag-disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }

  .ag-paging-button-first,
  .ag-paging-button-previous,
  .ag-paging-button-next,
  .ag-paging-button-last {
    color: $color-text-panel;
    background: $color-bg;
    border: 1px solid $color-border;
    border-radius: 4px;
    padding: 6px 16px;
    cursor: pointer;
    font-size: $font-size-panel;
    font-weight: 500;
    transition: all 0.2s ease;
    min-width: 90px;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    &:hover:not(:disabled) {
      background-color: $color-bg-button-hover;
      border-color: $color-text-panel;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    &:active:not(:disabled) {
      transform: translateY(0);
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background-color: $color-bg-panel;
    }
  }

  .ag-paging-row-summary-panel {
    display: flex;
    align-items: center;
    gap: 8px;
    color: $color-text-panel;
    font-size: $font-size-panel;
  }

  .ag-paging-page-summary-panel {
    display: flex;
    align-items: center;
    gap: 8px;
    color: $color-text-panel;
    font-size: $font-size-panel;
  }

  .ag-select {
    background: $color-bg;
    border: 1px solid $color-border;
    border-radius: 4px;
    padding: 6px 32px 6px 12px;
    color: $color-text-panel;
    font-size: $font-size-panel;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 100px;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%234a5568' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 12px;

    &:hover {
      border-color: $color-text-panel;
      background-color: $color-bg-button-hover;
    }

    &:focus {
      outline: none;
      border-color: $color-text-panel;
      box-shadow: 0 0 0 2px rgba(45, 55, 72, 0.1);
    }
  }

  .ag-paging-page-size {
    display: flex;
    align-items: center;
    gap: 8px;
    color: $color-text-panel;
    font-size: $font-size-panel;
    white-space: nowrap;
  }

  // Ensure AG Grid root container shows pagination
  .ag-root-wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0;
  }

  .ag-body-viewport {
    flex: 1;
    overflow: auto;
    min-height: 0;
  }

  .ag-body-horizontal-scroll {
    overflow-x: auto;
  }

  // Ensure pagination buttons container is visible
  .ag-paging-button-container {
    display: flex !important;
    align-items: center;
    gap: 8px;
    visibility: visible !important;
  }

  // Ensure all pagination elements are visible
  .ag-paging-button-first,
  .ag-paging-button-previous,
  .ag-paging-button-next,
  .ag-paging-button-last {
    visibility: visible !important;
    opacity: 1 !important;
    display: inline-flex !important;
  }

  // Ensure page size selector is visible
  .ag-paging-page-size-selector {
    visibility: visible !important;
    display: flex !important;
  }
}

.status-active {
  display: inline-block;
  padding: $spacing-status-padding;
  background-color: $color-bg-status-active;
  color: $color-text-status-active;
  border-radius: $border-radius-status;
  font-size: $font-size-status;
  font-weight: $font-weight-status;
}

.status-inactive {
  display: inline-block;
  padding: $spacing-status-padding;
  background-color: $color-bg-status-inactive;
  color: $color-text-status-inactive;
  border-radius: $border-radius-status;
  font-size: $font-size-status;
  font-weight: $font-weight-status;
}

@media (max-width: 768px) {
  .data-grid-container {
    min-height: 0;
  }

  .custom-grid {
    font-size: $font-size-mobile;
    height: calc(100vh - 180px);
    min-height: 400px;
  }
}

